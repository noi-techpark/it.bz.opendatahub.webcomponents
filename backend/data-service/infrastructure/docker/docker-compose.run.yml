version: "3.4"

services:
  app:
    image: ${DOCKER_IMAGE}:${DOCKER_TAG}
    restart: unless-stopped
    env_file: 
      - .env
    environment:
      API_SERVER_PORT: ${API_SERVER_PORT}
      _JAVA_OPTIONS: ${JAVA_OPTIONS}
    volumes: 
      - ../../odh-webcompstore-cdn/shared/workspace:/workspace
    # healthcheck:
    #   test: ["CMD", "curl", "-f", "http://localhost:${API_SERVER_PORT}/actuator/health"]
    #   interval: 20s
    #   timeout: 10s
    #   retries: 5
    #   start_period: 30s
    ports:
      - "${API_SERVER_PORT}:${API_SERVER_PORT}"
      